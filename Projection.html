

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Projections &mdash; PsyNeuLink 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PsyNeuLink 0.1 documentation" href="index.html"/>
        <link rel="next" title="Mapping" href="Mapping.html"/>
        <link rel="prev" title="Output State" href="OutputState.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PsyNeuLink
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="System.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="Process.html">Process</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Mechanism.html">Mechanisms</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="State.html">States</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Projections</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Mapping.html">Mapping</a></li>
<li class="toctree-l2"><a class="reference internal" href="ControlSignal.html">Control Signal</a></li>
<li class="toctree-l2"><a class="reference internal" href="Learning.html">Learning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Utilities.html">Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PsyNeuLink</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Projections</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/Projection.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="projections">
<h1>Projections<a class="headerlink" href="#projections" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Mapping.html">Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="ControlSignal.html">Control Signal</a></li>
<li class="toctree-l1"><a class="reference internal" href="Learning.html">Learning</a></li>
</ul>
</div>
<span class="target" id="module-Projection"></span><dl class="class">
<dt id="Projection.Projection_Base">
<em class="property">class </em><code class="descclassname">Projection.</code><code class="descname">Projection_Base</code><span class="sig-paren">(</span><em>receiver</em>, <em>sender=NotImplemented</em>, <em>params=NotImplemented</em>, <em>name=None</em>, <em>prefs=None</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.Projection_Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class definition for Projection category of Function class (default type:  Mapping)</p>
<dl class="docutils">
<dt>Description:</dt>
<dd><p class="first">Projections are used as part of a pathway (together with projections) to execute a process
Each instance must have:
- a sender: State object from which it gets its input (serves as variable argument of the Function);</p>
<blockquote>
<div>if this is not specified, paramClassDefaults[kwProjectionSender] is used to assign a default</div></blockquote>
<ul>
<li><p class="first">a receiver: State object to which it projects;  this MUST be specified</p>
</li>
<li><dl class="first docutils">
<dt>an execute method that executes the projection:</dt>
<dd><p class="first last">this can be implemented as &lt;class&gt;.function, or specified as a reference to a method in params[FUNCTION]</p>
</dd>
</dl>
</li>
<li><p class="first">a set of parameters: determine the operation of its execute method</p>
</li>
</ul>
<p class="last">The default projection type is a Mapping projection</p>
</dd>
<dt>Subclasses:</dt>
<dd>There are two [TBI: three] standard subclasses of Projection:
- Mapping: uses a function to convey the State from sender to the inputState of a receiver
- ControlSignal:  takes an allocation as input (sender) and uses it to modulate the controlState of the receiver
[- TBI: Gating: takes an input signal and uses it to modulate the inputState and/or outputState of the receiver</dd>
<dt>Instantiation:</dt>
<dd><dl class="first last docutils">
<dt>Projections should NEVER be instantiated by a direct call to the class</dt>
<dd>(since there is no obvious default), but rather by calls to the subclass</dd>
<dt>Subclasses can be instantiated in one of three ways:</dt>
<dd><ul class="first">
<li><dl class="first docutils">
<dt>call to __init__ with args to subclass for sender, receiver and (optional) params dict:</dt>
<dd><ul class="first">
<li><dl class="first docutils">
<dt>sender (Mechanism or State):</dt>
<dd><p class="first last">this is used if kwProjectionParam is same as default
sender.value used as variable for Projection.execute method</p>
</dd>
</dl>
</li>
<li><p class="first">receiver (Mechanism or State)</p>
</li>
</ul>
<dl class="docutils">
<dt>NOTES:</dt>
<dd><dl class="first last docutils">
<dt>if sender and/or receiver is a Mechanism, the appropriate State is inferred as follows:</dt>
<dd><dl class="first last docutils">
<dt>Mapping projection:</dt>
<dd><p class="first last">sender = &lt;Mechanism&gt;.outputState
receiver = &lt;Mechanism&gt;.inputState</p>
</dd>
<dt>ControlSignal projection:</dt>
<dd><p class="first">sender = &lt;Mechanism&gt;.outputState
receiver = &lt;Mechanism&gt;.paramsCurrent[&lt;param&gt;] IF AND ONLY IF there is a single one</p>
<blockquote class="last">
<div><p>that is a ParameterState;  otherwise, an exception is raised</p>
</div></blockquote>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<ul class="last">
<li><dl class="first docutils">
<dt>params (dict):</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>kwProjectionSender:&lt;Mechanism or State class reference or object&gt;:</dt>
<dd><p class="first last">this is populated by __init__ with the default sender state for each subclass
it is used if sender arg is not provided (see above)
if it is different than the default, it overrides the sender arg even if that is provided</p>
</dd>
</dl>
</li>
<li><p class="first">kwProjectionSenderValue:&lt;value&gt;  - use to instantiate ProjectionSender</p>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>specification dict, that includes params (above), and the following two additional params</dt>
<dd><ul class="first last simple">
<li>PROJECTION_TYPE</li>
<li>kwProjectionParams</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>as part of the instantiation of a State (see State);</dt>
<dd><p class="first last">the State will be assigned as the projection&#8217;s receiver</p>
</dd>
</dl>
</li>
</ul>
<ul class="last simple">
<li>Note: the projection will be added to it&#8217;s sender&#8217;s State.sendsToProjections attribute</li>
</ul>
</dd>
</dl>
</dd>
<dt>ProjectionRegistry:</dt>
<dd><dl class="first last docutils">
<dt>All Projections are registered in ProjectionRegistry, which maintains a dict for each subclass,</dt>
<dd>a count for all instances of that type, and a dictionary of those instances</dd>
</dl>
</dd>
<dt>Naming:</dt>
<dd>Projections can be named explicitly (using the name=&#8217;&lt;name&gt;&#8217; argument).  If the argument is omitted,
it will be assigned the subclass name with a hyphenated, indexed suffix (&#8216;subclass.name-n&#8217;)</dd>
<dt>Class attributes:</dt>
<dd><ul class="first last simple">
<li>functionCategory (str): kwProjectionFunctionCategory</li>
<li>className (str): kwProjectionFunctionCategory</li>
<li>suffix (str): &#8221; &lt;className&gt;&#8221;</li>
<li>registry (dict): ProjectionRegistry</li>
<li>classPreference (PreferenceSet): ProjectionPreferenceSet, instantiated in __init__()</li>
<li>classPreferenceLevel (PreferenceLevel): PreferenceLevel.CATEGORY</li>
<li>variableClassDefault (value): [0]</li>
<li>requiredParamClassDefaultTypes = {kwProjectionSender: [str, Mechanism, State]}) # Default sender type</li>
<li>paramClassDefaults (dict)</li>
<li>paramNames (dict)</li>
<li>FUNCTION (Function class or object, or method)</li>
</ul>
</dd>
<dt>Class methods:</dt>
<dd>None</dd>
<dt>Instance attributes:</dt>
<dd><ul class="first last">
<li><p class="first">sender (State) - State (belonging to a Mechanims) from which projection receives input</p>
</li>
<li><p class="first">receiver (State) - State (belong to Mechanism or Projection) to which projection sends input</p>
</li>
<li><p class="first">params (dict) - set currently in effect</p>
</li>
<li><p class="first">paramsCurrent (dict) - current value of all params for instance (created and validated in Functions init)</p>
</li>
<li><p class="first">paramInstanceDefaults (dict) - defaults for instance (created and validated in Functions init)</p>
</li>
<li><p class="first">paramNames (list) - list of keys for the params in paramInstanceDefaults</p>
</li>
<li><p class="first">value (value) - output of execute method</p>
</li>
<li><dl class="first docutils">
<dt>stateRegistry (Registry): registry containing a dict for the projection&#8217;s parameterStates, that has</dt>
<dd><p class="first">an instance dict of the parameterStates and a count of them
Note: registering instances of parameterStates with the projection (rather than in the StateRegistry)</p>
<blockquote class="last">
<div><p>allows the same name to be used for parameterStates belonging to different projections
without adding index suffixes for the name across projections
while still indexing multiple uses of the same base name within a projection</p>
</div></blockquote>
</dd>
</dl>
</li>
<li><p class="first">name (str) - if it is not specified as an arg, a default based on the class is assigned in register_category</p>
</li>
<li><p class="first">prefs (PreferenceSet) - if not specified as an arg, default is created by copying ProjectionPreferenceSet</p>
</li>
</ul>
</dd>
<dt>Instance methods:</dt>
<dd><p class="first"># The following method MUST be overridden by an implementation in the subclass:
- execute:</p>
<blockquote>
<div><ul class="simple">
<li>called by &lt;Projection&gt;reciever.owner.update_states_and_execute()</li>
<li>must be implemented by Projection subclass, or an exception is raised</li>
</ul>
</div></blockquote>
<ul class="last">
<li><dl class="first docutils">
<dt>add_to(receiver, state, context=None):</dt>
<dd><ul class="first last simple">
<li>instantiates self as projectoin to specified receiver.state</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="Projection.Projection_Base.instantiate_receiver">
<code class="descname">instantiate_receiver</code><span class="sig-paren">(</span><em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.Projection_Base.instantiate_receiver" title="Permalink to this definition">¶</a></dt>
<dd><p>Call receiver&#8217;s owner to add projection to its receivesFromProjections list</p>
<p>Notes:
* Assume that subclasses implement this method in which they:</p>
<blockquote>
<div><ul class="simple">
<li>test whether self.receiver is a Mechanism and, if so, replace with State appropriate for projection</li>
<li>calls this method (as super) to assign projection to the Mechanism</li>
</ul>
</div></blockquote>
<ul>
<li><dl class="first docutils">
<dt>Constraint that self.value is compatible with receiver.inputState.value</dt>
<dd><p class="first last">is evaluated and enforced in _instantiate_function, since that may need to be modified (see below)</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>IMPLEMENTATION NOTE: since projection is added using Mechanism.add_projection(projection, state) method,</dt>
<dd>could add state specification as arg here, and pass through to add_projection()
to request a particular state</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> &#8211; (str)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Projection.Projection_Base.instantiate_sender">
<code class="descname">instantiate_sender</code><span class="sig-paren">(</span><em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.Projection_Base.instantiate_sender" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign self.sender to outputState of sender and insure compatibility with self.variable</p>
<p>Assume self.sender has been assigned in _validate_params, from either sender arg or kwProjectionSender
Validate, set self.variable, and assign projection to sender&#8217;s sendsToProjections attribute</p>
<p>If self.sender is a Mechanism, re-assign it to &lt;Mechanism&gt;.outputState
If self.sender is a State class reference, validate that it is a OutputState
Assign projection to sender&#8217;s sendsToProjections attribute
If self.value / self.variable is NotImplemented, set to sender.value</p>
<p>Notes:
* ControlSignal initially overrides this method to check if sender is DefaultControlMechanism;</p>
<blockquote>
<div>if so, it assigns a ControlSignal-specific inputState, outputState and ControlSignalChannel to it</div></blockquote>
<dl class="docutils">
<dt>[TBI: * LearningSignal overrides this method to check if sender is kwDefaultSender;</dt>
<dd>if so, it instantiates a default MonitoringMechanism and a projection to it from receiver&#8217;s outputState]</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> &#8211; (str)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="Projection.add_projection_from">
<code class="descclassname">Projection.</code><code class="descname">add_projection_from</code><span class="sig-paren">(</span><em>sender</em>, <em>state</em>, <em>projection_spec</em>, <em>receiver</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.add_projection_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign an &#8220;outgoing&#8221; Projection from an OutputState of a sender Mechanism</p>
<p>projection_spec can be any valid specification of a projection_spec (see State.instantiate_projections_to_state)
state must be a specification of an outputState
Specification of OutputState can be any of the following:</p>
<blockquote>
<div><ul class="simple">
<li>kwOutputState - assigns projection_spec to (primary) outputState</li>
<li>OutputState object</li>
<li>index for Mechanism.outputStates OrderedDict</li>
<li>name of outputState (i.e., key for Mechanism.outputStates OrderedDict))</li>
<li>the keyword kwAddOutputState or the name for an outputState to be added</li>
</ul>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sender</strong> (<a class="reference internal" href="Mechanism.html#module-Mechanism" title="Mechanism"><em>Mechanism</em></a>) &#8211; </li>
<li><strong>projection_spec</strong> &#8211; (Projection, dict, or str)</li>
<li><strong>state</strong> (<em>OutputState, str, or value</em>) &#8211; </li>
<li><strong>context</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Projection.add_projection_to">
<code class="descclassname">Projection.</code><code class="descname">add_projection_to</code><span class="sig-paren">(</span><em>receiver</em>, <em>state</em>, <em>projection_spec</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.add_projection_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign an &#8220;incoming&#8221; Projection to a receiver InputState or ParameterState of a Function object</p>
<p>receiver must be an appropriate Function object (currently, a Mechanism or a Projection)
state must be a specification of an InputState or ParameterState
Specification of InputState can be any of the following:</p>
<blockquote>
<div><ul class="simple">
<li>kwInputState - assigns projection_spec to (primary) inputState</li>
<li>InputState object</li>
<li>index for Mechanism.inputStates OrderedDict</li>
<li>name of inputState (i.e., key for Mechanism.inputStates OrderedDict))</li>
<li>the keyword kwAddInputState or the name for an inputState to be added</li>
</ul>
</div></blockquote>
<p>Specification of ParameterState must be a ParameterState object
projection_spec can be any valid specification of a projection_spec (see State.instantiate_projections_to_state)
IMPLEMENTATION NOTE:  ADD FULL SET OF ParameterState SPECIFICATIONS</p>
<blockquote>
<div>CURRENTLY, ASSUMES projection_spec IS AN ALREADY INSTANTIATED PROJECTION</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receiver</strong> (<em>Mechanism or Projection</em>) &#8211; </li>
<li><strong>projection_spec</strong> &#8211; (Projection, dict, or str)</li>
<li><strong>state</strong> (<em>State subclass</em>) &#8211; </li>
<li><strong>context</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="Projection.is_projection_spec">
<code class="descclassname">Projection.</code><code class="descname">is_projection_spec</code><span class="sig-paren">(</span><em>spec</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.is_projection_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate whether spec is a valid Projection specification</p>
<p>Return true if spec is any of the following:
+ Projection class (or keyword string constant for one):
+ Projection object:
+ specification dict containing:</p>
<blockquote>
<div><ul class="simple">
<li>PROJECTION_TYPE:&lt;Projection class&gt; - must be a subclass of Projection</li>
</ul>
</div></blockquote>
<p>Otherwise, return False</p>
<p>Returns: (bool)</p>
</dd></dl>

<dl class="function">
<dt id="Projection.is_projection_subclass">
<code class="descclassname">Projection.</code><code class="descname">is_projection_subclass</code><span class="sig-paren">(</span><em>spec</em>, <em>keyword</em><span class="sig-paren">)</span><a class="headerlink" href="#Projection.is_projection_subclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate whether spec is a valid specification of type</p>
<p>keyword must specify a class registered in ProjectionRegistry</p>
<p>Return true if spec ==
+ keyword
+ subclass of Projection associated with keyword (from ProjectionRegistry)
+ instance of the subclass
+ specification dict for instance of the subclass:</p>
<blockquote>
<div>keyword is a keyword for an entry in the spec dict
keyword[spec] is a legal specification for the subclass</div></blockquote>
<p>Otherwise, return False</p>
</dd></dl>

<dl class="function">
<dt id="Projection.random">
<code class="descclassname">Projection.</code><code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; x in the interval [0, 1).<a class="headerlink" href="#Projection.random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Mapping.html" class="btn btn-neutral float-right" title="Mapping" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="OutputState.html" class="btn btn-neutral" title="Output State" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jon Cohen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html><b>CHANGE ME</b>
