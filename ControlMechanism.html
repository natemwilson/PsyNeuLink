

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Control Mechanisms &mdash; PsyNeuLink 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PsyNeuLink 0.1 documentation" href="index.html"/>
        <link rel="up" title="Mechanisms" href="Mechanism.html"/>
        <link rel="next" title="States" href="State.html"/>
        <link rel="prev" title="Monitoring Mechanisms" href="MonitoringMechanism.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PsyNeuLink
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="System.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="Process.html">Process</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Mechanism.html">Mechanisms</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ProcessingMechanism.html">Processing Mechanisms</a></li>
<li class="toctree-l2"><a class="reference internal" href="MonitoringMechanism.html">Monitoring Mechanisms</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Control Mechanisms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-controlmechanism">Creating A ControlMechanism</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#monitored-outputstates">Monitored OutputStates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Mechanism.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mechanism.html#creating-a-mechanism">Creating a Mechanism</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mechanism.html#function">Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mechanism.html#states">States</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mechanism.html#execution">Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="Mechanism.html#role-in-processes-and-systems">Role in Processes and Systems</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="State.html">States</a></li>
<li class="toctree-l1"><a class="reference internal" href="Projection.html">Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="Utilities.html">Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PsyNeuLink</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="Mechanism.html">Mechanisms</a> &raquo;</li>
      
    <li>Control Mechanisms</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/ControlMechanism.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="control-mechanisms">
<h1>Control Mechanisms<a class="headerlink" href="#control-mechanisms" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-ControlMechanism"></span><div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="creating-a-controlmechanism">
<h2>Creating A ControlMechanism<a class="headerlink" href="#creating-a-controlmechanism" title="Permalink to this headline">¶</a></h2>
<div class="section" id="monitored-outputstates">
<span id="controlmechanisms-monitored-outputstates"></span><h3>Monitored OutputStates<a class="headerlink" href="#monitored-outputstates" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>MONITORED_OUTPUT_STATES (list): (default: PRIMARY_OUTPUT_STATES)</dt>
<dd><dl class="first docutils">
<dt>specifies the outputStates of the mechanism to be monitored by ControlMechanism of the System(s)</dt>
<dd>to which the Mechanism belongs.</dd>
</dl>
<p>This specification overrides (for this mechanism) any in the ControlMechanism or System params[];
This is overridden if None is specified for MONITORED_OUTPUT_STATES in the outputState itself.
Each item must be one of the following:</p>
<blockquote class="last">
<div><ul>
<li><p class="first">OutputState (object)</p>
</li>
<li><p class="first">OutputState name (str)</p>
</li>
<li><dl class="first docutils">
<dt>(Mechanism or OutputState specification, exponent, weight) (tuple):</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>mechanism or outputState specification (Mechanism, OutputState, or str):</dt>
<dd><p class="first last">referenceto Mechanism or OutputState object or the name of one
if a Mechanism ref, exponent and weight will apply to all outputStates of that mechanism</p>
</dd>
</dl>
</li>
<li><p class="first">exponent (int):  will be used to exponentiate outState.value when computing EVC</p>
</li>
<li><p class="first">weight (int): will be used to multiplicative weight outState.value when computing EVC</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>MonitoredOutputStatesOption (AutoNumber enum): (note: ignored if one of the above is specified)</dt>
<dd><ul class="first last simple">
<li>PRIMARY_OUTPUT_STATES:  monitor only the primary (first) outputState of the Mechanism</li>
<li>ALL_OUTPUT_STATES:  monitor all of the outputStates of the Mechanism</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Mechanism (object): ignored (used for SystemController and System params)</p>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
<dl class="class">
<dt id="ControlMechanism.ControlMechanism_Base">
<em class="property">class </em><code class="descclassname">ControlMechanism.</code><code class="descname">ControlMechanism_Base</code><span class="sig-paren">(</span><em>default_input_value=NotImplemented</em>, <em>params=NotImplemented</em>, <em>name=None</em>, <em>prefs: &lt;function is_pref_set at 0x10b614378&gt; = None</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ControlMechanism.ControlMechanism_Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract class for control mechanism subclasses</p>
<blockquote>
<div>Description:</div></blockquote>
<dl class="docutils">
<dt># DOCUMENTATION NEEDED:</dt>
<dd>.instantiate_control_signal_projection INSTANTIATES OUTPUT STATE FOR EACH CONTROL SIGNAL ASSIGNED TO THE INSTANCE
.EXECUTE MUST BE OVERRIDDEN BY SUBCLASS
WHETHER AND HOW MONITORING INPUT STATES ARE INSTANTIATED IS UP TO THE SUBCLASS</dd>
</dl>
<p># PROTOCOL FOR ASSIGNING DefaultController (defined in Functions.__init__.py)
#    Initial assignment is to SystemDefaultCcontroller (instantiated and assigned in Functions.__init__.py)
#    When any other ControlMechanism is instantiated, if its params[MAKE_DEFAULT_CONTROLLER] == True
#        then its take_over_as_default_controller method is called in _instantiate_attributes_after_function()
#        which moves all ControlSignal Projections from DefaultController to itself, and deletes them there
# params[kwMonitoredStates]: Determines which states will be monitored.
#        can be a list of Mechanisms, OutputStates, a MonitoredOutputStatesOption, or a combination
#        if MonitoredOutputStates appears alone, it will be used to determine how states are assigned from system.executionGraph by default
#        TBI: if it appears in a tuple with a Mechanism, or in the Mechamism&#8217;s params list, it applied to just that mechanism</p>
<blockquote>
<div><blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>MONITORED_OUTPUT_STATES (list): (default: PRIMARY_OUTPUT_STATES)</dt>
<dd><p class="first">specifies the outputStates of the terminal mechanisms in the System to be monitored by ControlMechanism
this specification overrides any in System.params[], but can be overridden by Mechanism.params[]
each item must be one of the following:</p>
<blockquote class="last">
<div><ul>
<li><p class="first">Mechanism or OutputState (object)</p>
</li>
<li><p class="first">Mechanism or OutputState name (str)</p>
</li>
<li><dl class="first docutils">
<dt>(Mechanism or OutputState specification, exponent, weight) (tuple):</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>mechanism or outputState specification (Mechanism, OutputState, or str):</dt>
<dd><p class="first last">referenceto Mechanism or OutputState object or the name of one
if a Mechanism ref, exponent and weight will apply to all outputStates of that mechanism</p>
</dd>
</dl>
</li>
<li><p class="first">exponent (int):  will be used to exponentiate outState.value when computing EVC</p>
</li>
<li><p class="first">weight (int): will be used to multiplicative weight outState.value when computing EVC</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>MonitoredOutputStatesOption (AutoNumber enum):</dt>
<dd><ul class="first simple">
<li>PRIMARY_OUTPUT_STATES:  monitor only the primary (first) outputState of the Mechanism</li>
<li>ALL_OUTPUT_STATES:  monitor all of the outputStates of the Mechanism</li>
</ul>
<p class="last">Notes:
* this option applies to any mechanisms specified in the list for which no outputStates are listed;
* it is overridden for any mechanism for which outputStates are explicitly listed</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>Class attributes:</dt>
<dd><ul class="first last">
<li><p class="first">functionType (str): System Default Mechanism</p>
</li>
<li><dl class="first docutils">
<dt>paramClassDefaults (dict):</dt>
<dd><p class="first last"># + kwInputStateValue: [0]
# + kwOutputStateValue: [1]
+ FUNCTION: Linear
+ FUNCTION_PARAMS:{SLOPE:1, INTERCEPT:0}</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Instance methods:
-&nbsp;_validate_params(request_set, target_set, context):
-&nbsp;validate_monitoredstates_spec(state_spec, context):
-&nbsp;_instantiate_attributes_before_function(context):
-&nbsp;_instantiate_attributes_after_function(context):
-&nbsp;take_over_as_default_controller(context):
-&nbsp;instantiate_control_signal_projection(projection, context):</p>
<blockquote>
<div>adds outputState, and assigns as sender of to requesting ControlSignal Projection</div></blockquote>
<p>-&nbsp;execute(time_scale, runtime_params, context):
- show(): prints monitored OutputStates and mechanism parameters controlled</p>
<p>Instance attributes:
- allocationPolicy (np.arry): controlSignal intensity for controlSignals associated with each outputState
-&nbsp;controlSignalCosts (np.array):  current cost for controlSignals associated with each outputState</p>
</div></blockquote>
<dl class="class">
<dt id="ControlMechanism.ControlMechanism_Base.Linear">
<em class="property">class </em><code class="descname">Linear</code><span class="sig-paren">(</span><em>variable_default=[0], slope: &lt;function parameter_spec at 0x10b63f950&gt; = 1, intercept: &lt;function parameter_spec at 0x10b63f950&gt; = 0, params=None, prefs: &lt;function is_pref_set at 0x10b614378&gt; = None, context='Linear INITIALIZING '</em><span class="sig-paren">)</span><a class="headerlink" href="#ControlMechanism.ControlMechanism_Base.Linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a linear transform of input variable (SLOPE, INTERCEPT)</p>
<dl class="docutils">
<dt>Initialization arguments:</dt>
<dd><ul class="first last">
<li><p class="first">variable (number): transformed by linear function: slope * variable + intercept</p>
</li>
<li><dl class="first docutils">
<dt>params (dict): specifies</dt>
<dd><ul class="first last simple">
<li>slope (SLOPE: value) - slope (default: 1)</li>
<li>intercept (INTERCEPT: value) - intercept (defaul: 0)</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Linear.execute returns scalar result</p>
<dl class="method">
<dt id="ControlMechanism.ControlMechanism_Base.Linear.derivative">
<code class="descname">derivative</code><span class="sig-paren">(</span><em>output</em>, <em>input=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ControlMechanism.ControlMechanism_Base.Linear.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Derivative of the softMax sigmoid function</p>
</dd></dl>

<dl class="method">
<dt id="ControlMechanism.ControlMechanism_Base.Linear.function">
<code class="descname">function</code><span class="sig-paren">(</span><em>variable=NotImplemented</em>, <em>params=NotImplemented</em>, <em>time_scale=&lt;TimeScale.TRIAL: 1&gt;</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ControlMechanism.ControlMechanism_Base.Linear.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate single value (defined by slope and intercept)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><a class="reference internal" href="Transfer.html#Transfer.Transfer.variable" title="Transfer.Transfer.variable"><strong>variable</strong></a> &#8211; (number) - value to be &#8220;plotted&#8221; (default: 0</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> &#8211; (dict) with entries specifying:
SLOPE: number - slope (default: 1)
INTERCEPT: number - intercept (default: 0)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return number:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="ControlMechanism.ControlMechanism_Base.instantiate_control_mechanism_input_state">
<code class="descclassname">ControlMechanism_Base.</code><code class="descname">instantiate_control_mechanism_input_state</code><span class="sig-paren">(</span><em>input_state_name</em>, <em>input_state_value</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ControlMechanism.ControlMechanism_Base.instantiate_control_mechanism_input_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiate inputState for ControlMechanism</p>
<p>Extend self.variable by one item to accommodate new inputState
Instantiate an inputState using input_state_name and input_state_value
Update self.inputState and self.inputStates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_state_name</strong> (<em>str</em>) &#8211; </li>
<li><strong>input_state_value</strong> (<em>2D np.array</em>) &#8211; </li>
<li><strong>context</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>input_state</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="InputState.html#module-InputState" title="InputState">InputState</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ControlMechanism.ControlMechanism_Base.instantiate_control_signal_projection">
<code class="descclassname">ControlMechanism_Base.</code><code class="descname">instantiate_control_signal_projection</code><span class="sig-paren">(</span><em>projection</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ControlMechanism.ControlMechanism_Base.instantiate_control_signal_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Add outputState and assign as sender to requesting controlSignal projection</p>
<p>Updates allocationPolicy and controlSignalCosts attributes to accomodate instantiated projection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>projection</strong> &#8211; </li>
<li><strong>context</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns state: (OutputState)</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ControlMechanism.random">
<code class="descclassname">ControlMechanism.</code><code class="descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &rarr; x in the interval [0, 1).<a class="headerlink" href="#ControlMechanism.random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="State.html" class="btn btn-neutral float-right" title="States" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="MonitoringMechanism.html" class="btn btn-neutral" title="Monitoring Mechanisms" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jon Cohen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>