

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ParameterState &mdash; PsyNeuLink 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PsyNeuLink 0.1 documentation" href="index.html"/>
        <link rel="up" title="States" href="State.html"/>
        <link rel="next" title="OutputState" href="OutputState.html"/>
        <link rel="prev" title="InputState" href="InputState.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PsyNeuLink
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="System.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="Process.html">Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mechanism.html">Mechanisms</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="State.html">States</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="InputState.html">InputState</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ParameterState</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-parameterstate">Creating a ParameterState</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#specifying-parameters">Specifying Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="OutputState.html">OutputState</a></li>
<li class="toctree-l2"><a class="reference internal" href="State.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="State.html#creating-a-state">Creating a State</a></li>
<li class="toctree-l2"><a class="reference internal" href="State.html#structure">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="State.html#execution">Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="State.html#class-reference">Class Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Projection.html">Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="Function.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Run.html">Run</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PsyNeuLink</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="State.html">States</a> &raquo;</li>
      
    <li>ParameterState</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/ParameterState.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ParameterState">
<span id="parameterstate"></span><h1>ParameterState<a class="headerlink" href="#module-ParameterState" title="Permalink to this headline">¶</a></h1>
<p><strong>[DOCUMENTATION STILL UNDER CONSTRUCTION]</strong></p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>A parameterState belongs to either a mechanism or a MappingProjection, and is used to represent and possibly modify
the value of a parameter of its owner or it owner&#8217;s function. It can receive one or more ControlProjections and/or
LearningProjections that modify that parameter.   A list of the projections received by a parameterState is kept in
its <code class="docutils literal"><span class="pre">receivesFromProjections</span></code> attribute.  It&#8217;s <code class="docutils literal"><span class="pre">function</span></code> combines the values of these inputs, and uses the result
to modify the value of the parameter for which it is responsible.</p>
</div>
<div class="section" id="creating-a-parameterstate">
<span id="parameterstate-creation"></span><h2>Creating a ParameterState<a class="headerlink" href="#creating-a-parameterstate" title="Permalink to this headline">¶</a></h2>
<p>A parameterState can be created by calling its constructor, but in general this is not necessary or advisable, as
parameterStates are created automatically when the mechanism or projection to which they belong is created.  The owner
of a parameterState must be a mechanism or MappingProjection.  If the owner is not explicitly specified, and
can&#8217;t be determined by context, the parameterState will be assigned to the <code class="xref any docutils literal"><span class="pre">DefaultProcessingMechanism</span></code> [LINK].
One parameterState is created for each configurable parameter of its owner object, as well as for each parameter of
that object&#8217;s  <code class="docutils literal"><span class="pre">function</span></code>.  Each parameterState is created using the specification of the parameter for which it is
responsible, as described below.</p>
<div class="section" id="specifying-parameters">
<span id="parameterstate-specifying-parameters"></span><h3>Specifying Parameters<a class="headerlink" href="#specifying-parameters" title="Permalink to this headline">¶</a></h3>
<p>Parameters can be specified in one of several ways:</p>
<ul class="simple">
<li>in an <strong>argument for the parameter</strong> in the constructor for the object and/or its function
(see also <span class="xref std std-ref">Component_Specifying_Functions_and_Parameters</span> for additional details);</li>
<li>in a <strong>parameter dictionary</strong> as the <code class="docutils literal"><span class="pre">params</span></code> argument in the constructor;  the entry for each parameter
must use the keyword for the parameter as its key, and the parameter&#8217;s specification as its value
(see <span class="xref std std-ref">ParameterState_Parameter_Specification_Examples</span> below);  parameters for an object&#8217;s <code class="docutils literal"><span class="pre">function</span></code> must
be specified in an entry with the key <code class="xref std std-keyword docutils literal"><span class="pre">FUNCTION_PARAMS</span></code>, the value of which is a parameter dictionary
containing an entry for each parameter of the function to be specified;</li>
<li>in the <code class="docutils literal"><span class="pre">assign_params</span></code> method for the object;</li>
<li>when the object is executed, in the <code class="docutils literal"><span class="pre">runtime_params</span></code> argument of a call to object&#8217;s <code class="docutils literal"><span class="pre">execute</span></code> or <code class="docutils literal"><span class="pre">run</span></code> methods
(only for a mechanism), or in a tuple with the mechanism where it is specified as part of the <code class="xref any docutils literal"><span class="pre">Pathway</span></code> for a
process to which it belongs (see <span class="xref std std-ref">Runtime Specification</span> below).</li>
</ul>
<p>The items specified for the parameter are used to create its ParameterState. The value specified (either explicitly,
or by default) is assigned to the parameterState&#8217;s <code class="docutils literal"><span class="pre">baseValue</span></code>, and any projections assigned to it are added to its
<code class="docutils literal"><span class="pre">receiveFromProjections</span></code> attribute.   When the owner is executed,  the parameterState&#8217;s <code class="docutils literal"><span class="pre">baseValue</span></code> is combined
with the value of the projections it receives to determine the value of the parameter for which it is responsible
(see <span class="xref std std-ref">Execution</span> for details).</p>
<p>The specification of a parameter can take any of the following forms:</p>
<blockquote>
<div><ul class="simple">
<li>A <strong>value</strong>.  This must be a valid the value of the parameter.  The creates a default parameterState, assigns
the parameter&#8217;s name as the parameterState&#8217;s name, and assigns the specified value as its <code class="docutils literal"><span class="pre">baseValue</span></code>. [LINK]</li>
</ul>
<ul class="simple">
<li>An existing <strong>parameterState</strong> object or the name of one.  It&#8217;s name must be the name of a parameter of the
owner&#8217;s <code class="docutils literal"><span class="pre">function</span></code>, and its value must be a valid for that parameter.  This capability is provided
for generality and potential future use, but its use is not advised.</li>
</ul>
<ul class="simple">
<li>A ref:<cite>projection specification &lt;Projection_In_Context_Specification&gt;</cite>.  This creates a default parameterState,
assigns the parameter&#8217;s default value as the parameterState&#8217;s <code class="docutils literal"><span class="pre">baseValue</span></code>, and assigns the parameter&#8217;s name as
the name of the parameterState;  it also creates and/or assigns the specified projection, and assigns the
parameterState as the projection&#8217;s <code class="docutils literal"><span class="pre">receiver</span></code>.  The projection must be a ControlProjection or
LearningProjection, and its value must be a valid one for the parameter.</li>
</ul>
<ul class="simple">
<li>A <code class="xref any docutils literal"><span class="pre">ParamValueProjection</span></code> or 2-item (value, projection specification) <strong>tuple</strong>.  This creates a default
parameterState, uses the <code class="docutils literal"><span class="pre">value</span></code> (1st) item of the tuple as parameterState&#8217;s <code class="docutils literal"><span class="pre">baseValue</span></code>, and assigns the
parameter&#8217;s name as the name of the parameterState.  The <code class="docutils literal"><span class="pre">projection</span></code> (2nd) item of the tuple is used to
creates and/or assign the specified projection, that is assigned the parameterState as its <code class="docutils literal"><span class="pre">receiver</span></code>.  The
projection must be a ControlProjection or LearningProjection, and its value must be a valid one for the parameter.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently, the <code class="docutils literal"><span class="pre">function</span></code> of an object, although it can be specified, cannot be assigned a ControlProjection,
LearningProjection, or a runtime specification.  This may change in the future.</p>
</div>
<p>A parameterState can receive more than one ControlProjection or LearningProjection.  However, they must all have
values with the same format (number and type of elements) as the value of the parameter.  When the parameterState is
updated (i.e., the owner is executed), these will be combined (using the parameterState&#8217;s <code class="docutils literal"><span class="pre">function</span></code>) and the
result will be used to modify the parameter for which the parameterState is responsible.</p>
<p>The <strong>default value</strong> assigned to a parameterState is the default value of the argument for the parameter in the
constructor for the owner.  If the value of a parameter is specified as <code class="xref std std-keyword docutils literal"><span class="pre">None</span></code>, <code class="xref std std-keyword docutils literal"><span class="pre">NotImplemented</span></code>,
or any other non-numeric value that is not one of those listed above, then no parameter state is created and the
parameter cannot be modified by a ControlProjection, LearningProjection, or <span class="xref std std-ref">runtime specification</span>.</p>
<p class="rubric">Examples</p>
<p>In the following example, a mechanism is created with a function that has four parameters,
each of which is specified using a different format:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">my_mechanism</span> <span class="o">=</span> <span class="n">SomeMechanism</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">SomeFunction</span><span class="p">(</span><span class="n">param_a</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
                                                   <span class="n">param_b</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ControlProjection</span><span class="p">),</span>
                                                   <span class="n">param_c</span><span class="o">=</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="n">ControlProjection</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">Logistic</span><span class="p">),</span>
                                                   <span class="n">param_d</span><span class="o">=</span><span class="n">ControlProjection</span><span class="p">)))</span>
</pre></div>
</div>
<p>The first parameter of the mechanism&#8217;s function (<code class="docutils literal"><span class="pre">param_a</span></code>) is assigned a value directly; the second (<code class="docutils literal"><span class="pre">param_b</span></code>) is
assigned a value and a ControlProjection; the third (<code class="docutils literal"><span class="pre">param_c</span></code>) is assigned a value and a <a class="reference internal" href="ControlProjection.html#controlprojection-structure"><span class="std std-ref">ControlProjection
with a specified function</span></a>; and the fourth (<code class="docutils literal"><span class="pre">param_d</span></code>) is assigned just a
ControlProjection (the default vaue for the parameter will be used).</p>
<p>In the following example, a MappingProjection is created, and its <code class="docutils literal"><span class="pre">matrix</span></code> parameter is assigned a
a random weight matrix (using a <a class="reference internal" href="MappingProjection.html#matrix-keywords"><span class="std std-ref">matrix keyword</span></a>) and <a class="reference internal" href="LearningProjection.html"><span class="doc">LearningProjection</span></a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">my_mapping_projection</span> <span class="o">=</span> <span class="n">MappingProjection</span><span class="p">(</span><span class="n">sender</span><span class="o">=</span><span class="n">my_input_mechanism</span><span class="p">,</span>
                                          <span class="n">receiver</span><span class="o">=</span><span class="n">my_output_mechanism</span><span class="p">,</span>
                                          <span class="n">matrix</span><span class="o">=</span><span class="p">(</span><span class="n">RANDOM_CONNECTIVITY_MATRIX</span><span class="p">,</span> <span class="n">LearningProjection</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the <code class="docutils literal"><span class="pre">matrix</span></code> parameter belongs to the MappingProjection&#8217;s <code class="docutils literal"><span class="pre">function</span></code>;  however, since it has only one
standard function, its arguments are available in the constructor for the projection
(see <span class="xref std std-ref">Component_Specifying_Functions_and_Parameters</span> for a more detailed explanation).</p>
</div>
</div>
</div>
<div class="section" id="structure">
<span id="parameterstate-structure"></span><h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>The value of object params are accessible as attributes of the object, and the value of parameters for its <code class="docutils literal"><span class="pre">function</span></code>
are accessible either via object.function_object&lt;param_name&gt;, or object.function_params[&lt;PARAM_KEYWORD&gt;].
These are read-only.  To re-assign the value of a parameter for an existing object, use its <code class="docutils literal"><span class="pre">assign_params</span></code> method</p>
<dl class="docutils">
<dt>function vs. parameter_modulation_operation</dt>
<dd><dl class="first last docutils">
<dt>Parameters:</dt>
<dd><dl class="first last docutils">
<dt>The default for FUNCTION is LinearCombination using kwAritmentic.Operation.PRODUCT:</dt>
<dd><dl class="first last docutils">
<dt>self.value is multiplied by  the output of each of the  projections it receives</dt>
<dd>(generally ControlProjections)</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt># IMPLEMENTATION NOTE:  <a href="#id1"><span class="problematic" id="id2">**</span></a>* CONFIRM THAT THIS IS TRUE:</dt>
<dd><p class="first">FUNCTION can be set to another function, so long as it has type kwLinearCombinationFunction
The parameters of FUNCTION can be set:</p>
<blockquote class="last">
<div><ul class="simple">
<li>by including them at initialization (param[FUNCTION] = &lt;function&gt;(sender, params)</li>
<li>calling the adjust method, which changes their default values (param[FUNCTION].adjust(params)</li>
<li>at run time, which changes their values for just for that call (self.execute(sender, params)</li>
</ul>
</div></blockquote>
</dd>
</dl>
<ul class="simple">
<li>self.function (= params[FUNCTION]) must be Function.LinearCombination (enforced in _validate_params)</li>
</ul>
<p>Every parameterState is owned by a <a class="reference internal" href="Mechanism.html"><span class="doc">mechanism</span></a> or <a class="reference internal" href="MappingProjection.html"><span class="doc">MappingProjection</span></a>. It can receive one or more
<span class="xref std std-ref">ControlProjections</span> or <span class="xref std std-ref">LearningProjections</span> from other mechanisms.
A list of projections received by a parameterState is maintained in its <code class="docutils literal"><span class="pre">receivesFromProjections</span></code> attribute.
Like all PsyNeuLink components, it has the three following fundamental attributes:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">variable</span></code>:  this serves as a template for the <code class="docutils literal"><span class="pre">value</span></code> of each projection that the parameterState receives;
each must match both the number and type of elements of its <code class="docutils literal"><span class="pre">variable</span></code>.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">function</span></code>:  this performs an elementwise (Hadamard) aggregation  of the <code class="docutils literal"><span class="pre">values</span></code> of the projections</dt>
<dd><p class="first last">received by the parameterState.  The default function is <a class="reference internal" href="Function.html#Function.LinearCombination" title="Function.LinearCombination"><code class="xref any py py-class docutils literal"><span class="pre">LinearCombination</span></code></a> that multiplies the values.
A custom function can be specified (e.g., to perform a Hadamard sum, or to handle non-numeric values in
some way), so long as it generates a result that is compatible with the <code class="docutils literal"><span class="pre">value</span></code> expected for the parameterState</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>XXX IS THIS TRUE:</dt>
<dd>It assigns the result to the parameterState&#8217;s <code class="docutils literal"><span class="pre">value</span></code> attribute.</dd>
</dl>
<p>XXX DOES THIS COMBINE WITH BASEVALUE, OR IS THAT DONE AFTETWARDS?</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">value</span></code>:  this is the aggregated value of the projections received by the parameterState, assigned to it by the
parameterState&#8217;s <code class="docutils literal"><span class="pre">function</span></code>.  It must be compatible
with its corresponding item of the owner mechanism&#8217;s <code class="docutils literal"><span class="pre">variable</span></code>.</li>
</ul>
<p>In addition, a parameterState has two other attributes that are used to determine the value of the <code class="docutils literal"><span class="pre">function</span></code>
parameter for which it is responsible:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">baseValue</span></code>:  this is the default value of the <code class="docutils literal"><span class="pre">function</span></code> parameter for which the parameterState is responsible.
It is combined with the parameterState&#8217;s value (i.e., the aggregated values received from its projections) to
determine the value of the <code class="docutils literal"><span class="pre">function</span></code> parameter for which the parameterState is responsible
(see <span class="xref std std-ref">figure</span> below).</li>
</ul>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">parameterModulationOperation</span></code>: determines how the parameterState&#8217;s <code class="docutils literal"><span class="pre">value</span></code> (i.e., the aggregrated values
received from its projections) is combined with its <code class="docutils literal"><span class="pre">baseValue</span></code> to generate the value assigned to the <code class="docutils literal"><span class="pre">function</span></code>
parameter for which it is responsible (see <span class="xref std std-ref">figure</span> below).  This must be a value of
<code class="xref any docutils literal"><span class="pre">ModulationOperation</span></code>;  the default is <code class="xref std std-keyword docutils literal"><span class="pre">PRODUCT</span></code>.</p>
<blockquote>
<div><p>XXXXX MAKE SURE ROLE OF ParamModulationOperation FOR runtime params IS EXPLAINED THERE (OR EXPLAIN HERE)</p>
</div></blockquote>
</li>
</ul>
<p>XXXX EXPLAIN:
parameter_modulation_operation:  ModulationOperation - list values and their meaning
see ref:<cite>Mapping_Parameter_Modulation_Operation</cite></p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li>get ParameterStateParams</li>
<li>pass params to super, which aggregates inputs from projections</li>
<li>combine input from projections (processed in super) with baseValue using paramModulationOperation</li>
<li>combine result with value specified at runtime in PARAMETER_STATE_PARAMS</li>
<li>assign result to self.value</li>
</ul>
</div></blockquote>
<p>XXXXX NEED TO MODIFY DESCRIPTION AND/OR FIGURE TO DEAL WITH LEARNING SIGNALS</p>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="OutputState.html" class="btn btn-neutral float-right" title="OutputState" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="InputState.html" class="btn btn-neutral" title="InputState" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Jonathan D. Cohen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>